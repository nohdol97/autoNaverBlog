# Define the source branch with the changes
$sourceBranch = "infinite"

# Get the list of all branches
$branches = git branch --list | ForEach-Object { $_.Trim() -replace '\* ', '' }

# Loop through each branch and merge the changes
foreach ($branch in $branches) {
    if ($branch -ne $sourceBranch) {
        Write-Host "Merging changes into $branch"
        git checkout $branch
        git merge $sourceBranch
    }
}

# Checkout back to the source branch at the end
git checkout $sourceBranch